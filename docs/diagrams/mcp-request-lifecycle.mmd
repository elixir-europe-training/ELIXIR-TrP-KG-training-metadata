sequenceDiagram
    participant C as Client_or_LLM
    participant MCP as MCP_Tool_keyword_search
    participant Service as TrainingDataService
    participant Store as TrainingDataStore
    participant Index as KeywordIndex

    C->>MCP: tool call<br/>query="Seurat loading data"<br/>limit=5
    MCP->>Service: search_by_keyword(query, limit)
    Service->>Store: get_training_data_service()<br/>(load on first call)
    Store-->>Service: cached TrainingDataStore
    Service->>Index: lookup(tokens)
    Index-->>Service: matching resource URIs
    Service->>Store: hydrate resources_by_uri
    Store-->>Service: TrainingResource dicts
    Service-->>MCP: list[dict]
    MCP-->>C: JSON response
    Note over Service,Store: Dataset and indexes live inside TrainingDataStore and are reused across tool calls
